
<mosaic-page-header title="Purchase Orders"></mosaic-page-header>
<div class="main-inner py-4 px-2">
  <div class="container-fluid">
    <mosaic-container>
      <mosaic-card>
        <mosaic-card-body>
          <mosaic-form>
            <mosaic-row>
              <mosaic-col md="2" class="clearfix">
                <mosaic-select-input name="customer" label="Supplier">
                  <option value="">All</option>
                  <option value="value 1">Value 1</option>
                  <option value="value 2">Value 2</option>
                  <option value="value 3">Value 3</option>
                </mosaic-select-input>
              </mosaic-col>
              <mosaic-col md="2" class="clearfix">
                <mosaic-datetime-picker name="date-period" label="Date Period" range></mosaic-datetime-picker>
              </mosaic-col>
              <mosaic-col md="2" class="clearfix">
                <mosaic-select-input name="Currency" label="Currency">
                  <option value="">Â£</option>
                  <option value="value 1">Value 1</option>
                  <option value="value 2">Value 2</option>
                  <option value="value 3">Value 3</option>
                </mosaic-select-input>
              </mosaic-col>
              <mosaic-col md="2" class="clearfix">
                <mosaic-select-input name="order-status" label="Order Status">
                  <option value="">All</option>
                  <option value="value 1">Value 1</option>
                  <option value="value 2">Value 2</option>
                  <option value="value 3">Value 3</option>
                </mosaic-select-input>
              </mosaic-col>
              <mosaic-col md="2" class="clearfix">
                <mosaic-select-input name="data-level" label="Data Level">
                  <option value="">Company</option>
                  <option value="value 1">Value 1</option>
                  <option value="value 2">Value 2</option>
                  <option value="value 3">Value 3</option>
                </mosaic-select-input>
              </mosaic-col>
              <mosaic-col md="2" class="clearfix">
                <label for="" class="d-block">&nbsp;</label>
                <mosaic-button color="primary" icon="checkmark">Apply filters</mosaic-button>
              </mosaic-col>
            </mosaic-row>
          </mosaic-form>
        </mosaic-card-body>
      </mosaic-card>
    </mosaic-container>

    <div class="card mb-2">
      <div class="card-body p-0">
        <h4 class="card-title p-3">
          Summary Figures
        </h4>
        <div class="card-text">
          <table class="table text-center large-data-table">
            <thead>
              <tr>
                <th><h5>Total Completed Orders</h5></th>
                <th><h5>Total Completed Order Lines</h5></th>
                <th><h5>Total Completed Order Value</h5></th>
                <th><h5>Total Pending Orders</h5></th>
                <th><h5>Total Cancelled Orders</h5></th>
              </tr>
            </thead>
            <tr>
              <td>198</td>
              <td>410</td>
              <td>436,428.90</td>
              <td>78</td>
              <td>2</td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <div class="card mb-2">
      <div class="card-body p-0">
        <h4 class="card-title p-3 mb-0">
          Weekly Order Value - Completed / Pending
        </h4>
        <div class="card-text px-2">
          <google-chart [type]="'LineChart'" [data]="weeklyOrdersData.data" [columnNames]="weeklyOrdersData.columnNames" [options]="weeklyOrdersData.options" style="width: 100%; min-height: 400px;" [ngClass]="{ 'mb-2': true }"></google-chart>
        </div>
      </div>
    </div>
    
    <div class="card mb-2">
      <div class="card-body p-0">
        <h4 class="card-title p-3">
          Purchase Order List
        </h4>
        <div class="card-text px-2">
          <div class="container-fluid">
            <div class="row">
              <div class="col-12">
                <buyer-insights-pagination [totalItems]="100" [page]="1" [itemsPerPage]="10" [maxSize]="5"
                  (pageChanged)="changePage($event, true)" (setPageSize)="setPageSize($event)"></buyer-insights-pagination>
                  <div class="float-right">
                    <button class="btn btn-advanced mr-2">Export Purchase Orders (.csv)</button>
                    <button class="btn btn-advanced mr-2">Export Order Lines (.csv)</button>
                    <button class="btn btn-advanced">Custom Order Lines Export</button>
                  </div>
              </div>
            </div>
            <div class="row">
              <table class="table table-striped table-sm">
                <thead>
                  <tr>
                    <th>PO Date</th>
                    <th>Supplier Company</th>
                    <th>Supplier Email</th>
                    <th>PO Number</th>
                    <th>Order Total Value</th>
                    <th>Order Status</th>
                    <th>Invoice Number</th>
                    <th class="table-actions">Actions</th>
                  </tr>
                </thead>
                <tr *ngFor="let po of purchaseOrderData">
                  <td>{{po.date}}</td>
                  <td>{{po.supplierComp}}</td>
                  <td>{{po.supplierEmail}}</td>
                  <td>{{po.num}}</td>
                  <td>{{po.val}}</td>
                  <td>{{po.status}}</td>
                  <td>{{po.invNum}}</td>
                  <td class="text-center">
                    <a href="{{po.link}}"><svg class="icon" width="18" height="18"><use xlink:href="#view_file" href="#view_file"></use></svg></a>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>